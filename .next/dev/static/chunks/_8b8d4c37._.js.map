{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/deal-board-frontend/src/api/deals.ts"],"sourcesContent":["import axiosInstance from \"./axios\"\r\nimport type { Deal, DealStage } from \"../types\"\r\n\r\nexport const dealsApi = {\r\n  getAll: async (): Promise<Deal[]> => {\r\n    try {\r\n      const response = await axiosInstance.get<Deal[]>(\"/deals\")\r\n      return Array.isArray(response.data) ? response.data : []\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch deals:\", error)\r\n      return []\r\n    }\r\n  },\r\n\r\n  getById: async (id: string): Promise<Deal | null> => {\r\n    try {\r\n      const response = await axiosInstance.get<Deal>(`/deals/${id}`)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error(`Failed to fetch deal ${id}:`, error)\r\n      return null\r\n    }\r\n  },\r\n\r\n  create: async (deal: Omit<Deal, \"id\">): Promise<Deal | null> => {\r\n    try {\r\n      const response = await axiosInstance.post<Deal>(\"/deals\", deal)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error(\"Failed to create deal:\", error)\r\n      return null\r\n    }\r\n  },\r\n\r\n  update: async (id: string, deal: Partial<Deal>): Promise<Deal | null> => {\r\n    try {\r\n      const response = await axiosInstance.put<Deal>(`/deals/${id}`, deal)\r\n      return response.data\r\n    } catch (error) {\r\n      console.error(`Failed to update deal ${id}:`, error)\r\n      return null\r\n    }\r\n  },\r\n\r\n  updateStage: async (id: string, stage: DealStage): Promise<Deal | null> => {\r\n    try {\r\n      const response = await axiosInstance.patch<Deal>(`/deals/${id}/stage`, { stage })\r\n      return response.data\r\n    } catch (error) {\r\n      console.error(`Failed to update deal stage for ${id}:`, error)\r\n      return null\r\n    }\r\n  },\r\n\r\n  delete: async (id: string): Promise<boolean> => {\r\n    try {\r\n      await axiosInstance.delete(`/deals/${id}`)\r\n      return true\r\n    } catch (error) {\r\n      console.error(`Failed to delete deal ${id}:`, error)\r\n      return false\r\n    }\r\n  },\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,WAAW;IACtB,QAAQ;QACN,IAAI;YACF,MAAM,WAAW,MAAM,iIAAa,CAAC,GAAG,CAAS;YACjD,OAAO,MAAM,OAAO,CAAC,SAAS,IAAI,IAAI,SAAS,IAAI,GAAG,EAAE;QAC1D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,OAAO,EAAE;QACX;IACF;IAEA,SAAS,OAAO;QACd,IAAI;YACF,MAAM,WAAW,MAAM,iIAAa,CAAC,GAAG,CAAO,CAAC,OAAO,EAAE,IAAI;YAC7D,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC,EAAE;YAC7C,OAAO;QACT;IACF;IAEA,QAAQ,OAAO;QACb,IAAI;YACF,MAAM,WAAW,MAAM,iIAAa,CAAC,IAAI,CAAO,UAAU;YAC1D,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,OAAO;QACT;IACF;IAEA,QAAQ,OAAO,IAAY;QACzB,IAAI;YACF,MAAM,WAAW,MAAM,iIAAa,CAAC,GAAG,CAAO,CAAC,OAAO,EAAE,IAAI,EAAE;YAC/D,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,sBAAsB,EAAE,GAAG,CAAC,CAAC,EAAE;YAC9C,OAAO;QACT;IACF;IAEA,aAAa,OAAO,IAAY;QAC9B,IAAI;YACF,MAAM,WAAW,MAAM,iIAAa,CAAC,KAAK,CAAO,CAAC,OAAO,EAAE,GAAG,MAAM,CAAC,EAAE;gBAAE;YAAM;YAC/E,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC,EAAE;YACxD,OAAO;QACT;IACF;IAEA,QAAQ,OAAO;QACb,IAAI;YACF,MAAM,iIAAa,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,IAAI;YACzC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,sBAAsB,EAAE,GAAG,CAAC,CAAC,EAAE;YAC9C,OAAO;QACT;IACF;AACF"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///D:/deal-board-frontend/app/deals/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { dealsApi } from \"../../src/api/deals\"\r\nimport type { Deal, DealStage } from \"../../src/types\"\r\nimport { DEAL_STAGES } from \"../../src/utils/constants\"\r\n\r\nexport default function DealsPage() {\r\n  const router = useRouter()\r\n  const [deals, setDeals] = useState<Deal[]>([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const fetchDeals = async () => {\r\n      try {\r\n        const data = await dealsApi.getAll()\r\n        setDeals(Array.isArray(data) ? data : [])\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch deals:\", error)\r\n        setDeals([])\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchDeals()\r\n  }, [])\r\n\r\n  const getDealsByStage = (stage: DealStage) => {\r\n    return deals.filter((deal) => deal.stage === stage)\r\n  }\r\n\r\n  const getStageColor = (stage: DealStage) => {\r\n    switch (stage) {\r\n      case \"Lead\":\r\n        return \"bg-gray-50 border-gray-300\"\r\n      case \"Contacted\":\r\n        return \"bg-blue-50 border-blue-300\"\r\n      case \"Proposal\":\r\n        return \"bg-yellow-50 border-yellow-300\"\r\n      case \"Negotiation\":\r\n        return \"bg-orange-50 border-orange-300\"\r\n      case \"Won\":\r\n        return \"bg-green-50 border-green-300\"\r\n      case \"Lost\":\r\n        return \"bg-red-50 border-red-300\"\r\n      default:\r\n        return \"bg-gray-50 border-gray-300\"\r\n    }\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-full\">\r\n        <div className=\"text-gray-600\">Loading deals...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h1 className=\"text-2xl font-semibold text-gray-900\">Deals Pipeline</h1>\r\n\r\n      <div className=\"flex gap-4 overflow-x-auto pb-4\">\r\n        {DEAL_STAGES.map((stage) => {\r\n          const stageDeals = getDealsByStage(stage)\r\n          const totalValue = stageDeals.reduce((sum, deal) => sum + deal.value, 0)\r\n\r\n          return (\r\n            <div key={stage} className=\"flex-shrink-0 w-80\">\r\n              <div className=\"bg-white border border-gray-200 rounded\">\r\n                <div className=\"px-4 py-3 border-b border-gray-200\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <h3 className=\"text-sm font-semibold text-gray-900\">{stage}</h3>\r\n                    <span className=\"text-xs font-medium text-gray-500\">{stageDeals.length}</span>\r\n                  </div>\r\n                  {totalValue > 0 && <div className=\"text-xs text-gray-500 mt-1\">${totalValue.toLocaleString()}</div>}\r\n                </div>\r\n                <div className=\"p-3 space-y-3 min-h-[400px] max-h-[600px] overflow-y-auto\">\r\n                  {stageDeals.length === 0 ? (\r\n                    <div className=\"text-center text-gray-400 text-sm py-8\">No deals</div>\r\n                  ) : (\r\n                    stageDeals.map((deal) => (\r\n                      <div\r\n                        key={deal.id}\r\n                        onClick={() => router.push(`/deals/${deal.id}`)}\r\n                        className={`p-4 border rounded cursor-pointer hover:shadow-md transition-shadow ${getStageColor(stage)}`}\r\n                      >\r\n                        <div className=\"text-sm font-medium text-gray-900 mb-2\">{deal.title}</div>\r\n                        <div className=\"text-sm font-semibold text-gray-900 mb-2\">${deal.value.toLocaleString()}</div>\r\n                        <div className=\"text-xs text-gray-600\">{deal.customerName}</div>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;;;AANA;;;;;AAQe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;+BAAC;YACR,MAAM;kDAAa;oBACjB,IAAI;wBACF,MAAM,OAAO,MAAM,kIAAQ,CAAC,MAAM;wBAClC,SAAS,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;oBAC1C,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,0BAA0B;wBACxC,SAAS,EAAE;oBACb,SAAU;wBACR,aAAa;oBACf;gBACF;;YAEA;QACF;8BAAG,EAAE;IAEL,MAAM,kBAAkB,CAAC;QACvB,OAAO,MAAM,MAAM,CAAC,CAAC,OAAS,KAAK,KAAK,KAAK;IAC/C;IAEA,MAAM,gBAAgB,CAAC;QACrB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BAAgB;;;;;;;;;;;IAGrC;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAuC;;;;;;0BAErD,6LAAC;gBAAI,WAAU;0BACZ,2IAAW,CAAC,GAAG,CAAC,CAAC;oBAChB,MAAM,aAAa,gBAAgB;oBACnC,MAAM,aAAa,WAAW,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,KAAK,EAAE;oBAEtE,qBACE,6LAAC;wBAAgB,WAAU;kCACzB,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAG,WAAU;8DAAuC;;;;;;8DACrD,6LAAC;oDAAK,WAAU;8DAAqC,WAAW,MAAM;;;;;;;;;;;;wCAEvE,aAAa,mBAAK,6LAAC;4CAAI,WAAU;;gDAA6B;gDAAE,WAAW,cAAc;;;;;;;;;;;;;8CAE5F,6LAAC;oCAAI,WAAU;8CACZ,WAAW,MAAM,KAAK,kBACrB,6LAAC;wCAAI,WAAU;kDAAyC;;;;;+CAExD,WAAW,GAAG,CAAC,CAAC,qBACd,6LAAC;4CAEC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;4CAC9C,WAAW,CAAC,oEAAoE,EAAE,cAAc,QAAQ;;8DAExG,6LAAC;oDAAI,WAAU;8DAA0C,KAAK,KAAK;;;;;;8DACnE,6LAAC;oDAAI,WAAU;;wDAA2C;wDAAE,KAAK,KAAK,CAAC,cAAc;;;;;;;8DACrF,6LAAC;oDAAI,WAAU;8DAAyB,KAAK,YAAY;;;;;;;2CANpD,KAAK,EAAE;;;;;;;;;;;;;;;;uBAfd;;;;;gBA6Bd;;;;;;;;;;;;AAIR;GA/FwB;;QACP,kJAAS;;;KADF"}}]
}