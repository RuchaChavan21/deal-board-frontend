{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/deal-board-frontend/src/api/dashboard.ts"],"sourcesContent":["import axiosInstance from \"./axios\"\r\n\r\nexport const getDashboardSummary = async (): Promise<any> => {\r\n  const response = await axiosInstance.get(\"/dashboard\")\r\n  return response.data\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,sBAAsB;IACjC,MAAM,WAAW,MAAM,8HAAa,CAAC,GAAG,CAAC;IACzC,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///D:/deal-board-frontend/app/dashboard/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { getDashboardSummary } from \"../../src/api/dashboard\"\r\nimport type { DashboardStats, Deal, Task } from \"../../src/types\"\r\n\r\nexport default function DashboardPage() {\r\n  const router = useRouter()\r\n  const [stats, setStats] = useState<DashboardStats | null>(null)\r\n  const [recentDeals, setRecentDeals] = useState<Deal[]>([])\r\n  const [upcomingTasks, setUpcomingTasks] = useState<Task[]>([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const fetchDashboardData = async () => {\r\n      const summary = await getDashboardSummary().catch(() => null)\r\n\r\n      const summaryStats =\r\n        summary?.stats ??\r\n        ({\r\n          totalCustomers: summary?.totalCustomers ?? 0,\r\n          activeDeals: summary?.activeDeals ?? summary?.totalDeals ?? 0,\r\n          dealsWon: summary?.dealsWon ?? 0,\r\n          pendingTasks: summary?.pendingTasks ?? summary?.activeTasks ?? 0,\r\n        } satisfies DashboardStats)\r\n\r\n      setStats(summaryStats)\r\n      setRecentDeals(Array.isArray(summary?.recentDeals) ? summary.recentDeals : [])\r\n      setUpcomingTasks(Array.isArray(summary?.upcomingTasks) ? summary.upcomingTasks : [])\r\n      setIsLoading(false)\r\n    }\r\n\r\n    fetchDashboardData()\r\n  }, [])\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-full\">\r\n        <div className=\"text-gray-600\">Loading dashboard...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h1 className=\"text-2xl font-semibold text-gray-900\">Dashboard</h1>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <div className=\"bg-white border border-gray-200 rounded p-6\">\r\n          <div className=\"text-sm font-medium text-gray-500 mb-2\">Total Customers</div>\r\n          <div className=\"text-3xl font-semibold text-gray-900\">{stats?.totalCustomers || 0}</div>\r\n        </div>\r\n        <div className=\"bg-white border border-gray-200 rounded p-6\">\r\n          <div className=\"text-sm font-medium text-gray-500 mb-2\">Active Deals</div>\r\n          <div className=\"text-3xl font-semibold text-gray-900\">{stats?.activeDeals || 0}</div>\r\n        </div>\r\n        <div className=\"bg-white border border-gray-200 rounded p-6\">\r\n          <div className=\"text-sm font-medium text-gray-500 mb-2\">Deals Won</div>\r\n          <div className=\"text-3xl font-semibold text-gray-900\">{stats?.dealsWon || 0}</div>\r\n        </div>\r\n        <div className=\"bg-white border border-gray-200 rounded p-6\">\r\n          <div className=\"text-sm font-medium text-gray-500 mb-2\">Pending Tasks</div>\r\n          <div className=\"text-3xl font-semibold text-gray-900\">{stats?.pendingTasks || 0}</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white border border-gray-200 rounded\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900\">Recent Deals</h2>\r\n          </div>\r\n          <div className=\"p-6\">\r\n            {recentDeals.length === 0 ? (\r\n              <p className=\"text-gray-500 text-center py-8\">No recent deals</p>\r\n            ) : (\r\n              <div className=\"space-y-4\">\r\n                {recentDeals.map((deal) => (\r\n                  <div\r\n                    key={deal.id}\r\n                    onClick={() => router.push(`/deals/${deal.id}`)}\r\n                    className=\"flex items-center justify-between p-3 border border-gray-200 rounded hover:bg-gray-50 cursor-pointer\"\r\n                  >\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">{deal.title}</div>\r\n                      <div className=\"text-xs text-gray-500 mt-1\">{deal.customerName}</div>\r\n                    </div>\r\n                    <div className=\"text-right\">\r\n                      <div className=\"text-sm font-semibold text-gray-900\">${deal.value.toLocaleString()}</div>\r\n                      <div className=\"text-xs text-gray-500 mt-1\">{deal.stage}</div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white border border-gray-200 rounded\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900\">Upcoming Tasks</h2>\r\n          </div>\r\n          <div className=\"p-6\">\r\n            {upcomingTasks.length === 0 ? (\r\n              <p className=\"text-gray-500 text-center py-8\">No upcoming tasks</p>\r\n            ) : (\r\n              <div className=\"space-y-4\">\r\n                {upcomingTasks.map((task) => (\r\n                  <div key={task.id} className=\"flex items-start gap-3 p-3 border border-gray-200 rounded\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">{task.title}</div>\r\n                      {task.dealTitle && <div className=\"text-xs text-gray-500 mt-1\">{task.dealTitle}</div>}\r\n                      <div className=\"text-xs text-gray-500 mt-1\">\r\n                        Due: {new Date(task.dueDate).toLocaleDateString()}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-500\">{task.assignedUserName}</div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}